/**
 * Generated by orval v7.11.2 üç∫
 * Do not edit manually.
 * API
 * API‰ªïÊßò
 * OpenAPI spec version: v1
 */
import axios from "axios";
import type { AxiosError, AxiosRequestConfig, AxiosResponse } from "axios";

import useSwr from "swr";
import type { Key, SWRConfiguration } from "swr";

import useSWRMutation from "swr/mutation";
import type { SWRMutationConfiguration } from "swr/mutation";

import type {
  BadRequest,
  GetPasswordPathParameters,
  NotFound,
  Ok,
  PatchPasswordPathParameters,
  PatchPasswordRequest,
  TooManyRequests,
  UnprocessableEntityError,
} from ".././models";

/**
 * „Éà„Éº„ÇØ„É≥„ÅÆÊúâÂäπÊÄß„ÇíÊ§úË®º„Åô„Çã
 * @summary „Éë„Çπ„ÉØ„Éº„Éâ„É™„Çª„ÉÉ„Éà
 */
export const getPassword = ({ token }: GetPasswordPathParameters, options?: AxiosRequestConfig): Promise<AxiosResponse<Ok>> => {
  return axios.get(`/api/v1/passwords/${token}`, options);
};

export const getGetPasswordKey = ({ token }: GetPasswordPathParameters) => [`/api/v1/passwords/${token}`] as const;

export type GetPasswordQueryResult = NonNullable<Awaited<ReturnType<typeof getPassword>>>;
export type GetPasswordQueryError = AxiosError<BadRequest | NotFound>;

/**
 * @summary „Éë„Çπ„ÉØ„Éº„Éâ„É™„Çª„ÉÉ„Éà
 */
export const useGetPassword = <TError = AxiosError<BadRequest | NotFound>>(
  { token }: GetPasswordPathParameters,
  options?: {
    swr?: SWRConfiguration<Awaited<ReturnType<typeof getPassword>>, TError> & { swrKey?: Key; enabled?: boolean };
    axios?: AxiosRequestConfig;
  }
) => {
  const { swr: swrOptions, axios: axiosOptions } = options ?? {};

  const isEnabled = swrOptions?.enabled !== false && !!token;
  const swrKey = swrOptions?.swrKey ?? (() => (isEnabled ? getGetPasswordKey({ token }) : null));
  const swrFn = () => getPassword({ token }, axiosOptions);

  const query = useSwr<Awaited<ReturnType<typeof swrFn>>, TError>(swrKey, swrFn, swrOptions);

  return {
    swrKey,
    ...query,
  };
};
/**
 * „Éë„Çπ„ÉØ„Éº„Éâ„ÇíÊõ¥Êñ∞„Åô„Çã
 * @summary „Éë„Çπ„ÉØ„Éº„Éâ„ÅÆÊõ¥Êñ∞
 */
export const patchPassword = (
  { token }: PatchPasswordPathParameters,
  patchPasswordRequest: PatchPasswordRequest,
  options?: AxiosRequestConfig
): Promise<AxiosResponse<Ok>> => {
  return axios.patch(`/api/v1/passwords/${token}`, patchPasswordRequest, options);
};

export const getPatchPasswordMutationFetcher = ({ token }: PatchPasswordPathParameters, options?: AxiosRequestConfig) => {
  return (_: Key, { arg }: { arg: PatchPasswordRequest }): Promise<AxiosResponse<Ok>> => {
    return patchPassword({ token }, arg, options);
  };
};
export const getPatchPasswordMutationKey = ({ token }: PatchPasswordPathParameters) => [`/api/v1/passwords/${token}`] as const;

export type PatchPasswordMutationResult = NonNullable<Awaited<ReturnType<typeof patchPassword>>>;
export type PatchPasswordMutationError = AxiosError<BadRequest | NotFound | UnprocessableEntityError | TooManyRequests>;

/**
 * @summary „Éë„Çπ„ÉØ„Éº„Éâ„ÅÆÊõ¥Êñ∞
 */
export const usePatchPassword = <TError = AxiosError<BadRequest | NotFound | UnprocessableEntityError | TooManyRequests>>(
  { token }: PatchPasswordPathParameters,
  options?: {
    swr?: SWRMutationConfiguration<
      Awaited<ReturnType<typeof patchPassword>>,
      TError,
      Key,
      PatchPasswordRequest,
      Awaited<ReturnType<typeof patchPassword>>
    > & { swrKey?: string };
    axios?: AxiosRequestConfig;
  }
) => {
  const { swr: swrOptions, axios: axiosOptions } = options ?? {};

  const swrKey = swrOptions?.swrKey ?? getPatchPasswordMutationKey({ token });
  const swrFn = getPatchPasswordMutationFetcher({ token }, axiosOptions);

  const query = useSWRMutation(swrKey, swrFn, {
    throwOnError: false,
    ...swrOptions,
  });

  return {
    swrKey,
    ...query,
  };
};
